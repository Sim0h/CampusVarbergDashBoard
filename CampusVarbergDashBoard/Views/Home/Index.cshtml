@model CampusVarbergDashBoard.ViewModels.DashboardViewModel

@{
    spacingModel modelValue = new spacingModel();
    modelValue.cellSpacing = new double[] { 10, 10 };
}
@{
    var viewData = new ViewDataDictionary(ViewData)
    {
        { "MapId", "heatmap-overview" },
        { "MapHeight", "400px" }
    };
}

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="https://cdn.syncfusion.com/ej2/20.2.36/dist/ej2.min.js"></script>
<script src="https://unpkg.com/leaflet.heat/dist/leaflet-heat.js"></script>

<div class="container">
    <div class="overview-container">
        <h4 class="overview-title"><strong>Summering av Sökande till YH-Utbildningar:</strong></h4>
        <div class="row">
            <!-- Total Applicants Card -->
            <div class="col-lg-4 mb-4">
                <div class="card">
                    <div class="card-body">
                        <div class="title">
                            <h5>Antal sökande</h5><br />
                        </div>
                        @await Html.PartialAsync("_TotalApplicantsOverall", Model.TotalApplicants)
                    </div>
                </div>
            </div>
            <!-- Gender Distribution Card -->
            <div class="col-lg-4 mb-4">
                <div class="card">
                    <div class="card-body">
                        <div class="title">
                            <h5>Könsfördelning</h5>
                        </div>
                        @await Html.PartialAsync("_GenderDistributionOverall", Model.GenderDistribution)
                    </div>
                </div>
            </div>
            <!-- Competence Distribution Card -->
            <div class="col-lg-4 mb-4">
                <div class="card">
                    <div class="card-body">
                        <div class="title">
                            <h5>Kompetensfördelning</h5>
                        </div>
                        @await Html.PartialAsync("_CompetenceOverall", Model.CompetenceDistribution)
                    </div>
                </div>
            </div>
            <!-- Education Distribution Card -->
            <div class="col-lg-8 mb-4">
                <div class="card">
                    <div class="card-body">
                        <div class="title">
                            <h5>Sökta utbildningar</h5>
                        </div>
                        @await Html.PartialAsync("_EducationDistributionOverall", Model.EducationDistribution)
                    </div>
                </div>
            </div>
            <!-- Map Overview Card -->
            <div class="col-lg-4 mb-4">
                <div class="card">
                    <div class="card-body">
                        <div class="title">
                            <h5>Karta översikt</h5>
                        </div>
                        @await Html.PartialAsync("_HeatmapPartial", null, viewData)
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
